<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Jarvis Helper</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <!-- Add Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <button id="backToPopup" class="back-btn">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2>Welcome to Jarvis Helper</h2>
            <div class="auth-container">
                <button id="googleSignIn" class="google-sign-in-button">
                    <div class="google-btn-content">
                        <div class="google-icon-wrapper">
                            <img class="google-icon" 
                                 src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcuNiA5LjJsLS4xLTEuOEg5djMuNGg0LjhDMTMuNiAxMiAxMyAxMyAxMiAxMy42djIuMmgzYTguOCA4LjggMCAwIDAgMi42LTYuNnoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik05IDE4YzIuNCAwIDQuNS0uOCA2LTIuMmwtMy0yLjJhNS40IDUuNCAwIDAgMS04LTIuOUgxVjEzYTkgOSAwIDAgMCA4IDV6IiBmaWxsPSIjMzRBODUzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNCAxMC43YTUuNCA1LjQgMCAwIDEgMC0zLjRWNUgxYTkgOSAwIDAgMCAwIDhsMy0yLjN6IiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNOSAzLjZjMS4zIDAgMi41LjQgMy40IDEuM0wxNSAyLjNBOSA5IDAgMCAwIDEgNWwzIDIuNGE1LjQgNS40IDAgMCAxIDUtMy43eiIgZmlsbD0iI0VBNDMzNSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIvPjwvZz48L3N2Zz4="
                            />
                        </div>
                        <span class="btn-text">Sign in with Google</span>
                    </div>
                </button>
                <div class="divider">or</div>
                <button id="emailSignIn" class="email-sign-in-button">
                    <i class="fas fa-envelope"></i>
                    <span>Sign in with Email</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Add User Profile Section -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="../icons/icon48.png" alt="Logo" class="logo-img">
            <h1>Jarvis Helper</h1>
            <button id="toggleSidebar" class="toggle-btn">â‰¡</button>
            <div id="userProfile" class="user-profile hidden">
                <img id="userAvatar" src="" alt="Profile" class="avatar">
                <div class="user-info">
                    <span id="userName"></span>
                    <button id="userMenu" class="icon-btn">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <div id="userDropdown" class="dropdown hidden">
                    <a href="#" id="viewProfile">Profile</a>
                    <a href="#" id="upgradeAccount">Upgrade to Pro</a>
                    <a href="#" id="signOut">Sign Out</a>
                </div>
            </div>
        </div>
    
        <div class="sections">
            <!-- Screen Capture Section -->
            <div class="section">
                <button class="section-header">
                    <h2><i class="fas fa-camera"></i>Screen Capture</h2>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
                <div class="section-content">
                    <div class="tool-group two-column">
                        <button id="fullPageCapture" class="tool-btn small">
                            <i class="fas fa-file"></i>Full Page
                        </button>
                        <button id="selectionCapture" class="tool-btn small">
                            <i class="fas fa-crop"></i>Selection
                        </button>
                        <button id="editScreenshot" class="tool-btn small">
                            <i class="fas fa-edit"></i>Edit Screenshot
                        </button>
                        <button id="viewScreenshots" class="tool-btn small">
                            <i class="fas fa-images"></i>View All
                        </button>
                    </div>
                </div>
            </div>
    
            <!-- Video Recording Section -->
            <div class="section">
                <button class="section-header">
                    <h2><i class="fas fa-video"></i>Video Recording</h2>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
                <div class="section-content">
                    <div class="tool-group two-column">
                        <button class="tool-btn small" id="startRecording">
                            <i class="fas fa-record-vinyl"></i><span>Start Recording</span>
                        </button>
                        <button class="tool-btn small" id="startWebcam">
                            <i class="fas fa-video-camera"></i><span>Start Webcam</span>
                        </button>
                        <button class="tool-btn small" id="editVideo">
                            <i class="fas fa-edit"></i>Edit Video
                        </button>
                        <button class="tool-btn small" id="viewRecordings">
                            <i class="fas fa-film"></i>View All
                        </button>
                    </div>
                </div>
            </div>
    
            <!-- Todo List Section -->
            <div class="section">
                <button class="section-header">
                    <h2><i class="fas fa-tasks"></i>Todo List</h2>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
                <div class="section-content">
                    <div class="todo-container">
                        <div class="input-group">
                            <input type="text" id="newTodo" placeholder="Add new task..." class="full-width">
                        </div>
                        <div class="input-group date-add-row">
                            <input type="date" id="todoDate">
                            <button id="addTodo" class="tool-btn">Add</button>
                        </div>
                        <div id="todoList" class="todo-list">
                            <div class="todo-header">
                                <span class="todo-check">Done</span>
                                <span class="todo-task">Task</span>
                                <span class="todo-date">Due Date</span>
                            </div>
                            <!-- Top 5 tasks will be dynamically inserted here -->
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Save Bookmark Section -->
            <div class="section">
                <button class="section-header">
                    <h2><i class="fas fa-bookmark"></i>Save Bookmark</h2>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
                <div class="section-content">
                    <div class="tool-group">
                        <button class="tool-btn" id="saveCurrentPage">
                            <i class="fas fa-save"></i>Save Current Page
                        </button>
                    </div>
                </div>
            </div>
    
            <!-- AI Assistant Section -->
            <div class="section">
                <button class="section-header">
                    <h2><i class="fas fa-robot"></i>AI Assistant</h2>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
                <div class="section-content">
                    <div class="ai-container">
                        <textarea id="aiQuery" placeholder="Ask me anything..."></textarea>
                        <div class="input-group">
                            <button id="submitQuery">Ask AI</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Add subscription modal -->
    <div id="subscriptionModal" class="modal hidden">
        <div class="modal-content">
            <h2>Upgrade to Pro</h2>
            <div class="plans">
                <div class="plan">
                    <h3>Monthly</h3>
                    <p class="price">$9.99/month</p>
                    <button class="subscribe-btn" data-plan="monthly">Choose Plan</button>
                </div>
                <div class="plan popular">
                    <h3>Annual</h3>
                    <p class="price">$99/year</p>
                    <p class="savings">Save 17%</p>
                    <button class="subscribe-btn" data-plan="annual">Choose Plan</button>
                </div>
            </div>
        </div>
    </div>
    <script src="popup.js" type="module"></script>
</body>
</html>
